:root {
  --bg-start:#4f46e5; /* indigo-600 */
  --bg-end:#9333ea;   /* purple-600 */
  --card:#f8fafc;     /* slate-50 */
  --text:#0f172a;     /* slate-900 */
  --muted:#64748b;    /* slate-500 */
  --primary:#7c3aed;  /* violet-600 */
  --primary-contrast:#fff;
}

*{ box-sizing: border-box; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans SC', 'Helvetica Neue', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif; margin:0; color:var(--text); background: linear-gradient(180deg, var(--bg-start), var(--bg-end)) fixed; }

.app-bar { position: sticky; top:0; z-index: 20; display:flex; align-items:center; justify-content: space-between; padding: 14px 16px; color:#fff; background: linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.1)); backdrop-filter: blur(6px); }
.app-bar .title{ font-weight: 700; }

main { max-width: 720px; margin: 0 auto; padding: 16px 16px 88px; }

.hero-card {
  background:rgba(255,255,255,.85);
  color: var(--text);
  border-radius: 18px;
  padding: 28px 18px;             /* 增加内边距，显得不拥挤 */
  min-height: 120px;              /* 提升整体高度 */
  box-shadow: 0 12px 40px rgba(0,0,0,.12);
  margin: 10px 6px 16px;
  text-align:center;
  display:flex;                   /* 使用 Flex 完全居中 */
  flex-direction: column;
  align-items: center;
  justify-content: center;
}
.hero-card h2{ margin:0 0 8px; }
.hero-card p{ margin:0; color: var(--muted); }

.card { background: var(--card); color: var(--text); border-radius: 18px; padding: 14px; margin: 14px 6px; box-shadow: 0 10px 30px rgba(0,0,0,.12); overflow: hidden; }
.card-title { font-weight: 700; margin-bottom: 10px; }
.with-icon .icon { margin-right: 6px; }
.kv .k{ color: var(--muted); display:inline-block; min-width: 84px; line-height: 1.6; }
.kv .v{ font-weight: 600; line-height: 1.6; }
.kv > div{ padding: 12px 2px; }
.card-actions{ margin-top: 10px; display:flex; gap:10px; flex-wrap: wrap; padding-bottom: 8px; }
.card-actions.row .btn{ flex:1; }

.btn{ background: var(--primary); color: var(--primary-contrast); border:0; border-radius: 999px; padding: 10px 16px; cursor: pointer; }
.btn.primary{ background:#22c55e; }
.btn.ghost{ background: #eef2ff; color:#3730a3; }
.btn:disabled{ opacity:.6; cursor:not-allowed }

.list{ display:flex; flex-direction: column; gap: 10px; }
.list-item{ background:#ffffff; border-radius: 16px; padding: 12px; display:flex; align-items:center; justify-content: space-between; box-shadow: inset 0 0 0 1px rgba(0,0,0,.04); }
.li-title{ font-weight: 700; }
.li-sub{ color: var(--muted); font-size: 12px; margin-top:4px; }
.li-actions{ display:flex; gap:8px; }

.tabbar{ position: fixed; left:0; right:0; bottom:0; height:64px; background:#fff; display:flex; align-items:center; justify-content: space-around; box-shadow: 0 -8px 24px rgba(0,0,0,.12); z-index: 20; }
.tab{ background:transparent; border:0; color:#475569; font-weight:600; }
.tab.active{ color:#111827; }
.fab{ width:56px; height:56px; border-radius:50%; background: var(--primary); color:#fff; border:0; box-shadow: 0 8px 22px rgba(124,58,237,.5); transform: translateY(-12px); font-size: 20px; }

.fab-menu{ position: fixed; left:50%; transform: translateX(-50%); bottom:80px; display:none; flex-direction: column; gap:10px; z-index:25; }
.fab-menu.show{ display:flex; }
.fab-item, .fab-close{ background: var(--primary); color:#fff; border:0; border-radius: 999px; padding: 10px 16px; }
.fab-close{ background:#4338ca; }

.page{ display:none; }
.page.active{ display:block; }

.app-footer{ text-align:center; color:#eaeaff; opacity:.8; padding: 10px 0 84px; }

.log{ background: rgba(0,0,0,.35); color:#fff; max-width:720px; margin: 8px auto; padding: 8px 12px; border-radius: 8px; white-space: pre-wrap; }

/* 个人信息卡片定制样式 */
.card.profile{ padding:0; overflow:hidden; border-radius:22px; }
.card.profile .card-title{
  display:flex; align-items:center; justify-content:center; gap:8px;
  margin:0; padding:16px 12px;
  font-size: 20px;                 /* 标题加大一号 */
  text-align:center; font-weight:800;
  background: linear-gradient(180deg, rgba(124,58,237,.15), rgba(124,58,237,.04)); /* 表头加深 */
  border-bottom: 1px solid rgba(15,23,42,.08);
}
.card.profile .with-icon .icon{ margin-right:0; }
.card.profile .kv{ padding: 12px 14px; }
.card.profile .kv > div{ display:flex; align-items:center; justify-content:space-between; padding:14px 2px; border-bottom: 1px solid rgba(15,23,42,.08); }
.card.profile .kv > div:last-child{ border-bottom:0; }
.card.profile .kv .k{ min-width:auto; }
.card.profile .kv .v{ font-weight: 400; } /* 内容不加粗 */

/* 个人信息卡片底部操作按钮区域内边距，防止按钮与圆角重叠溢出 */
.card.profile .card-actions{ padding: 10px 14px 14px; }
.card.profile .card-actions .btn{ flex:1 1 calc(33.333% - 10px); min-width: 0; }

/* 数值胶囊高亮：积分（橙色）、捐赠（绿色） */
.card.profile #kv-points{
  display:inline-flex; align-items:center; gap:6px;
  padding: 4px 10px;
  border-radius: 999px;
  background: rgba(251, 146, 60, .12);     /* orange-400 */
  color: #d97706;                           /* amber-600 */
  border: 1px solid rgba(234, 88, 12, .25); /* orange-600 */
}
.card.profile #kv-donation{
  display:inline-flex; align-items:center; gap:6px;
  padding: 4px 10px;
  border-radius: 999px;
  background: rgba(34, 197, 94, .12);       /* green-500 */
  color: #16a34a;                           /* green-600 */
  border: 1px solid rgba(22, 163, 74, .25); /* green-600 */
}

/* 通用徽章样式 */
.badge{ display:inline-flex; align-items:center; padding: 3px 10px; border-radius: 999px; font-weight:600; font-size: 13px; border:1px solid transparent; }
.badge-green{ background: rgba(34,197,94,.10); color:#16a34a; border-color: rgba(22,163,74,.25); }
.badge-red{ background: rgba(248,113,113,.12); color:#dc2626; border-color: rgba(239,68,68,.25); }

/* Emby 账户卡片定制 */
.card.emby{ padding:0; overflow:hidden; border-radius:22px; }
.card.emby .card-title{ display:flex; align-items:center; justify-content:center; gap:8px; margin:0; padding:16px 12px; font-size:20px; font-weight:800; background: linear-gradient(180deg, rgba(37,99,235,.12), rgba(37,99,235,.04)); border-bottom:1px solid rgba(15,23,42,.08); }
.card.emby .with-icon .icon{ margin-right:0; }
.card.emby .kv{ padding: 12px 14px; }
.card.emby .kv > div{ display:flex; align-items:center; gap:8px; justify-content:flex-start; padding:14px 2px; border-bottom: 1px solid rgba(15,23,42,.08); }
.card.emby .kv > div:last-child{ border-bottom:0; }
.card.emby .row-icon{ width:20px; text-align:center; opacity:.85; }
.card.emby .k{ min-width: 92px; color: var(--muted); }
.card.emby .v{ font-weight:600; }
.card.emby .card-actions{ padding: 10px 14px 14px; }

/* 绑定线路徽章可点击选择 */
#emby-bound{ cursor:pointer; user-select:none; box-shadow: inset 0 0 0 1px rgba(59,130,246,.2); }
#emby-bound:hover{ box-shadow: inset 0 0 0 1px rgba(59,130,246,.4); }
